(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(29),c=r.n(a),i=(r(76),r(5)),o=r(6),u=r.n(o),d=r(13),l=r(126),j=r(14),b=r(9),p=r.n(b),O=r(1);function x(e){var t=e.userInputHandler,r=e.passwordInputHandler,s=e.userName,a=e.password,c=e.setNewUser,i=e.setUserExists,o=e.setUserName,j=e.setPassword;Object(n.useEffect)((function(){o(""),j("")}),[]);var b=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:s,password:a},""!==s&&""!==a){e.next=4;break}return console.log("Username and password required"),e.abrupt("return");case 4:return e.prev=4,e.next=7,p.a.post("/api/user/register",t);case 7:console.log(s),c(!0),i(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error signing up");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{id:"register-title",children:"Welcome to the best Trivia ever "}),Object(O.jsx)("h2",{children:"Register Now!"}),Object(O.jsxs)("div",{id:"register-container",children:[Object(O.jsx)("input",{id:"username-input-register",type:"text",placeholder:"Enter user name",onChange:function(e){return t(e.target.value)},required:!0}),Object(O.jsx)("input",{id:"password-input-register",type:"password",placeholder:"Enter password",onChange:function(e){return r(e.target.value)},required:!0}),Object(O.jsx)(l.a,{onClick:b,className:"scoreboard-button",variant:"contained",color:"primary",children:"Register"})]})]})}function h(e){var t=e.userInputHandler,r=e.passwordInputHandler,n=e.userName,s=e.password,a=e.setUserExists,c=(e.setUserName,e.setPassword,function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:n,password:s},""!==n&&""!==s){e.next=4;break}return console.log("Username and password required"),e.abrupt("return");case 4:return e.prev=4,e.next=7,p.a.post("/api/user/login",t);case 7:a(!0),console.log("success logging in"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("error invalid user");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}());return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{id:"login-title",children:"Welcome to the best Trivia ever "}),Object(O.jsx)("h2",{children:"Login into your account"}),Object(O.jsxs)("div",{id:"login-container-div",children:[Object(O.jsx)("input",{className:"username-input-login",type:"text",placeholder:"Enter user name",onChange:function(e){return t(e.target.value)},required:!0}),Object(O.jsx)("input",{className:"password-input-login",type:"password",placeholder:"Enter password",onChange:function(e){return r(e.target.value)},required:!0}),Object(O.jsx)(l.a,{onClick:c,id:"login-button",variant:"contained",color:"primary",children:"Login"}),Object(O.jsx)("div",{children:Object(O.jsx)("span",{children:"Don't have a user yet? Register now "})}),Object(O.jsx)(j.b,{to:"/register",children:Object(O.jsx)(l.a,{className:"login-register-button",variant:"contained",color:"primary",children:"Register"})})]})]})}function v(e){var t=e.setUserExists,r=e.setNewUser,n=(e.userName,function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/user/logout");case 3:r(!1),t(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error logout");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return Object(O.jsxs)("div",{id:"home-container",children:[Object(O.jsx)("h1",{id:"main-title",children:"Trivia Game"}),Object(O.jsxs)("div",{id:"login-container",children:[Object(O.jsx)(j.b,{to:"/game",children:Object(O.jsx)(l.a,{className:"start-game-button",variant:"contained",children:"Start Game"})}),Object(O.jsx)(j.b,{to:"/scoreboard",children:Object(O.jsx)(l.a,{className:"scoreboard-button",variant:"contained",color:"primary",children:"Scoreboard"})}),Object(O.jsx)(l.a,{onClick:n,className:"scoreboard-button",variant:"contained",color:"primary",children:"Logout"})]})]})}function f(e){var t=e.user,r=e.index;return Object(O.jsxs)("div",{className:"user-row",children:[Object(O.jsxs)("span",{className:"scoreboard-index",children:[r+1,"."]}),Object(O.jsx)("span",{className:"scoreboard-username",children:t.name}),Object(O.jsx)("span",{className:"scoreboard-score",children:t.score})]})}function m(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),r=t[0],s=t[1];return Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/trivia/scoreboard");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(O.jsxs)("div",{id:"scoreboard-container",children:[Object(O.jsx)("h1",{id:"scoreboard-title",children:"Scoreboard"}),r.map((function(e,t){return Object(O.jsx)(f,{index:t,user:e},"UserRow-".concat(t))})),Object(O.jsx)("div",{id:"div-scoreboard-button",children:Object(O.jsx)(j.b,{to:"/",children:Object(O.jsx)(l.a,{id:"scoreboard-home-button",variant:"contained",color:"primary",children:"Home"})})})]})}var w=r(7),g=r(41),k=r(101),N=r(103);function S(e){var t=k.decode(e);return N.decode(t)}var y=r(19),A=Object(y.a)({root:{backgroundColor:"#3f51b5",borderRadius:3,border:0,color:"white",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",marginTop:"1em",fontSize:"1.5em",minWidth:"10em",height:"fit-content"},label:{textTransform:"capitalize"}})(l.a);function C(e){var t=e.answer,r=e.answerClickEvent,n=e.isAnswerVisible,s=e.question,a=e.disableButtons;return Object(O.jsxs)("div",{className:"option-div",children:[Object(O.jsx)(A,{onClick:function(e){return r(e.target.innerText)},variant:"contained",disabled:a,children:t.option}),Object(O.jsx)("div",{className:"answer",children:n&&4===s.user.allAnswers.length?S(t.answer):n&&2===s.user.allAnswers.length&&null==s.saved?S(t.answer)+" "+t.country:n&&2===s.user.allAnswers.length&&s.saved?S(t.answer):null})]})}function q(e){var t=e.question;return Object(O.jsx)("div",{children:t.user?Object(O.jsx)("h1",{id:"question",children:t.user.question}):null})}var E=r(127),U=r(122),R=r(125);function I(e){var t=e.onRateOrSkipClicking,r=e.question,s=e.questionNumber,a=e.setRatedNewQuestions,c=e.ratedNewQuestions,o=Object(n.useState)(0),j=Object(i.a)(o,2),b=j[0],x=j[1],h=Object.assign({},r),v=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s-1)%3!==0){e.next=11;break}return e.prev=1,e.next=4,p.a.patch("/api/trivia/update",h);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:e.next=14;break;case 11:(t=Object(g.a)(c)).push(h),a(t);case 14:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){0!==b&&(h.answer=S(h.answer),4===h.user.allAnswers.length?(h.user.allAnswers[0].answer=S(h.user.allAnswers[0].answer),h.user.allAnswers[1].answer=S(h.user.allAnswers[1].answer),h.user.allAnswers[2].answer=S(h.user.allAnswers[2].answer),h.user.allAnswers[3].answer=S(h.user.allAnswers[3].answer)):(h.user.allAnswers[0].answer=S(h.user.allAnswers[0].answer),h.user.allAnswers[1].answer=S(h.user.allAnswers[1].answer)),h.grade=b,v(),t())}),[b]),Object(O.jsx)("div",{id:"rating-background",children:Object(O.jsxs)("div",{id:"rating-container",children:[Object(O.jsxs)(R.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(O.jsx)(U.a,{id:"rate-question",component:"legend",children:"Rate Question:"}),Object(O.jsx)(E.a,{id:"stars",size:"large",name:"simple-controlled",value:b,onChange:function(e,t){x(t)}})]}),Object(O.jsx)(l.a,{variant:"contained",color:"primary",onClick:t,id:"skip-button",children:"Skip"})]})})}var M=r(66),P=r.n(M);function H(e){var t=e.question,r=e.setLifeSaver,n=e.lifeSaver,s=e.setQuestion,a=e.setCounter,c=e.disableSaveButton,i=e.setProgress,o=(e.counter,e.prevCounter),u=t.user?t.user.allAnswers.length:null,d=function(){a((function(e){return e+10})),i((function(e){return(e+=100/(2*o)*20)+100/(2*o)})),r((function(e){return e-1})),function(){for(var e=Object.assign({},t),r=e.user.allAnswers.map((function(e){return e.option})),n=S(e.answer),a=r.findIndex((function(e){return String(e)===n})),c=[];c.length<2;){var i=Math.floor(4*Math.random());i===a||c.includes(i)||c.push(i)}c.sort((function(e,t){return e-t})),e.user.allAnswers.splice(c[0],1),c.shift(),e.user.allAnswers.splice(c[0]-1,1),e.saved=!0,s(e)}()};return Object(O.jsxs)("div",{id:"life-saver-container",children:[n>0?Object(O.jsxs)("div",{className:"life-saver-message",children:["you have ",n," life savers"]}):Object(O.jsx)("div",{className:"life-saver-message",children:"You used two life savers"}),4===u&&n>0?Object(O.jsx)(l.a,{disabled:c,variant:"contained",onClick:function(){return d()},id:"life-saver-button",children:Object(O.jsx)(P.a,{})}):null]})}var Q=r(123),T=r(124),B=Object(Q.a)({root:{width:"45%",margin:"auto"}});function L(e){var t=e.counter,r=e.prevCounter,s=e.progress,a=e.setProgress,c=B();return Object(n.useEffect)((function(){a((function(e){return e-100/(2*r)}))}),[t,r]),Object(O.jsx)("div",{className:c.root,children:Object(O.jsx)(T.a,{variant:"determinate",value:s,style:{height:"2vh",borderRadius:"5px"}})})}var z=r(28),G=r.n(z);function W(e){var t=e.userName,r=Object(n.useState)(1),s=Object(i.a)(r,2),a=s[0],c=s[1],o=Object(n.useState)({}),b=Object(i.a)(o,2),x=b[0],h=b[1],v=Object(n.useState)(20),f=Object(i.a)(v,2),m=f[0],w=f[1],k=Object(n.useState)(!1),N=Object(i.a)(k,2),y=N[0],A=N[1],E=Object(n.useState)(!1),U=Object(i.a)(E,2),R=U[0],M=U[1],P=Object(n.useState)(0),Q=Object(i.a)(P,2),T=Q[0],B=Q[1],z=Object(n.useState)(20),W=Object(i.a)(z,2),J=W[0],V=W[1],D=Object(n.useState)(3),F=Object(i.a)(D,2),Y=F[0],K=F[1],X=Object(n.useState)(!1),Z=Object(i.a)(X,2),$=Z[0],_=Z[1],ee=Object(n.useState)(!1),te=Object(i.a)(ee,2),re=te[0],ne=te[1],se=Object(n.useState)(0),ae=Object(i.a)(se,2),ce=ae[0],ie=ae[1],oe=Object(n.useState)(2),ue=Object(i.a)(oe,2),de=ue[0],le=ue[1],je=Object(n.useState)([]),be=Object(i.a)(je,2),pe=be[0],Oe=be[1],xe=Object(n.useState)([]),he=Object(i.a)(xe,2),ve=he[0],fe=he[1],me=Object(n.useState)([]),we=Object(i.a)(me,2),ge=we[0],ke=we[1],Ne=Object(n.useState)(100),Se=Object(i.a)(Ne,2),ye=Se[0],Ae=Se[1];Object(n.useEffect)((function(){if(0!==m){var e=m>0&&setInterval((function(){return w(m-.5)}),500);return function(){clearInterval(e)}}M(!0),A(!0),_(!0),ne(!0),K((function(e){return e-1}))}),[m]),Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,r,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(3*Math.random())+1,e.next=3,p.a.get("/api/trivia/type".concat(t));case 3:return r=e.sent,h(r.data),e.next=7,p.a.get("/api/trivia/all-saved-questions");case 7:n=e.sent,s=n.data.map((function(e){return e.id})),fe(s);case 10:case"end":return e.stop()}}),e)})))()}),[]);var Ce=function(e){if(S(x.answer)===e){_(!0);var t=J-m,r=Math.floor(70*(1-t/J)+30);!0===x.saved?ie((function(e){return e+30})):ie((function(e){return e+r}))}else _(!0),K((function(e){return e-1}));w(""),M(!0),A(!0)};Object(n.useEffect)((function(){c((function(e){return e+1})),Object(d.a)(u.a.mark((function e(){var t,r,n,s,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.length!==pe.length){e.next=9;break}return t=Math.floor(3*Math.random())+1,e.next=4,p.a.get("/api/trivia/type".concat(t));case 4:r=e.sent,h(r.data),_(!1),e.next=35;break;case 9:if(a%3!==0){e.next=29;break}return e.next=12,p.a.get("/api/trivia/saved-question");case 12:n=e.sent;case 13:if(!pe.includes(n.data.id)){e.next=21;break}return e.next=16,p.a.get("/api/trivia/saved-question");case 16:if(n=e.sent,pe.includes(n.data.id)){e.next=19;break}return e.abrupt("break",21);case 19:e.next=13;break;case 21:s=n.data.id,(c=Object(g.a)(pe)).push(s),Oe(c),h(n.data),_(!1),e.next=35;break;case 29:return i=Math.floor(3*Math.random())+1,e.next=32,p.a.get("/api/trivia/type".concat(i));case 32:o=e.sent,h(o.data),_(!1);case 35:case"end":return e.stop()}}),e)})))()}),[T]),Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Y){e.next=16;break}return e.prev=1,e.next=4,p.a.post("/api/user/getuser",{name:t});case 4:return r=e.sent,console.log(r.data),n={name:r.data.name,id:r.data.id,score:ce},e.next=9,p.a.post("/api/user/score",n);case 9:return e.next=11,p.a.post("/api/trivia/new",ge);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()}),[Y]);return Object(O.jsxs)("div",{children:[0===Y?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{id:"end-game-user",children:t}),Object(O.jsxs)("div",{id:"game-score",children:[ce," - Points"]}),Object(O.jsxs)("div",{id:"end-game-button-container",children:[Object(O.jsx)(j.b,{to:"/scoreboard",children:Object(O.jsx)(l.a,{id:"game-scoreboard-button",variant:"contained",color:"primary",children:"Scoreboard"})}),Object(O.jsx)(j.b,{to:"/",children:Object(O.jsx)(l.a,{id:"new-game-button",variant:"contained",children:"New Game"})})]})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{id:"lives",children:3===Y?Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(G.a,{})," ",Object(O.jsx)(G.a,{})," ",Object(O.jsx)(G.a,{})]}):2===Y?Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(G.a,{})," ",Object(O.jsx)(G.a,{})]}):1===Y?Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{})}):null}),Object(O.jsx)(q,{question:x}),Object(O.jsx)("div",{id:"timer",children:Math.round(m)}),Object(O.jsx)(L,{counter:m,prevCounter:J,progress:ye,setProgress:Ae}),Object(O.jsx)(H,{question:x,setLifeSaver:le,lifeSaver:de,setQuestion:h,setCounter:w,disableSaveButton:re,setProgress:Ae,prevCounter:J,counter:m}),x.user&&x.user.allAnswers.map((function(e,t){return Object(O.jsx)(C,{answer:e,answerClickEvent:Ce,isAnswerVisible:R,question:x,disableButtons:$},"answer key ".concat(t))})),y?Object(O.jsx)(I,{onRateOrSkipClicking:function(){B((function(e){return e+1})),M(!1),A(!1),ne(!1),Ae(100),5===J?w(5):(w(J-.5),V((function(e){return e-.5})))},question:x,setSkipOrRate:B,questionNumber:a,setRatedNewQuestions:ke,ratedNewQuestions:ge}):null]}),Object(O.jsx)("div",{id:"game-home-button-div",children:Object(O.jsx)(j.b,{to:"/",children:Object(O.jsx)(l.a,{variant:"contained",color:"primary",children:"Home"})})})]})}function J(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"404 Page Not Found"})})}function V(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=t[0],s=t[1],a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],u=c[1],d=Object(n.useState)(""),l=Object(i.a)(d,2),b=l[0],p=l[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),k=g[0],N=g[1],S=function(e){p(e)},y=function(e){N(e)};return Object(O.jsx)("div",{children:Object(O.jsx)(j.a,{children:Object(O.jsxs)(w.d,{children:[Object(O.jsx)(w.b,{exact:!0,path:"/",children:r?Object(O.jsx)(w.a,{to:"/home"}):Object(O.jsx)(h,{userInputHandler:S,passwordInputHandler:y,userName:b,password:k,setUserExists:s,setUserName:p,setPassword:N})}),Object(O.jsx)(w.b,{exact:!0,path:"/register",children:o?Object(O.jsx)(w.a,{to:"/home"}):Object(O.jsx)(x,{userInputHandler:S,passwordInputHandler:y,userName:b,password:k,setNewUser:u,setUserExists:s,setUserName:p,setPassword:N})}),Object(O.jsx)(w.b,{exact:!0,path:"/home",children:r?Object(O.jsx)(v,{setUserName:p,setPassword:N,setNewUser:u,setUserExists:s,userName:b}):Object(O.jsx)(w.a,{to:"/"})}),Object(O.jsx)(w.b,{exact:!0,path:"/scoreboard",children:Object(O.jsx)(m,{})}),Object(O.jsx)(w.b,{exact:!0,path:"/game",children:Object(O.jsx)(W,{userName:b})}),Object(O.jsx)(w.b,{path:"/",component:J})]})})})}var D=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(V,{})})};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))},76:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.508c615d.chunk.js.map